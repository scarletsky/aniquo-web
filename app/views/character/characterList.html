<div
    layout="row"
    layout-align="center"
    ng-controller="CharacterListCtrl">

    <div
        layout="column"
        layout-align="center"
        flex="80"
        flex-sm="100"
        layout-wrap
        infinite-scroll="getObjects()"
        infinite-scroll-disabled="q.isQuerying || q.noMoreData"
        infinite-scroll-distance='1'
        infinite-scroll-container="'#content-body-wrapper'">

        <div layout="row"
             layout-align="start"
             layout-wrap
             >

            <md-card flex="30"
                     flex-md="45"
                     flex-sm="95"
                     ng-repeat="object in objects"
                     ng-click="goToQuotesPage(object._id)">

                <md-card-content>

                    <div layout="cow" layout-align="start center">
                        <img ng-src="http://placehold.it/100x100"
                             class="avatar avatar-md mg-r">
                        <h3 class="md-subhead" ng-bind="object.name"></h3>
                    </div>

                </md-card-content>

                <md-divider></md-divider>

                <md-card-content>

                    <p class="md-body-1 mg-0"
                       ng-bind-template="{{ object.info.length === 0 ? '无' : '' }}{{  object.info | limitTo: 60 }}{{ object.info.length > 60 ? '...' : '' }}"></p>

                </md-card-content>
            </md-card>

        </div>

        <div bd-tracker></div>

    </div>

    <md-button id="fab"
               class="md-fab" aria-label="Add Character"
               ng-href="/characters/new?sourceId={{ sourceId }}"
               ng-if="session.isAuthenticated()"
               >
        <md-tooltip md-direction="left">添加角色</md-tooltip>
        <md-icon class="zmdi zmdi-plus zmdi-hc-lg"></md-icon>
    </md-button>

</div>
