<div
    layout="row"
    layout-align="center"
    ng-controller="QuoteListCtrl">

    <div
        layout="row"
        layout-align="space-between"
        flex="80"
        flex-sm="100"
        layout-wrap
        infinite-scroll="getObjects()"
        infinite-scroll-disabled="q.isQuerying || q.noMoreData"
        infinite-scroll-distance='1'
        infinite-scroll-container="'#content-body-wrapper'">

        <div layout="column" layout-fill>

            <md-card ng-repeat="object in objects">

                <md-card-content ui-sref="quoteDetail({quoteId: object._id})">
                    <div marked="object.quote"></div>
                </md-card-content>

                <md-divider></md-divider>

                <md-card-content layout="row"
                                 layout-wrap>

                        <span ng-repeat="character in object.characters"
                              ui-sref="character.quotes({characterId: character._id})">

                            <img class="avatar avatar-md mg-h"
                                 ng-if="character.avatar"
                                 ng-src="{{ cdn.domain + character.avatar }}"
                                 />

                            <img class="avatar avatar-md mg-h"
                                 ng-if="!character.avatar"
                                 bd-avatar
                                 bd-avatar-text="{{ character.name }}" />

                            <md-tooltip md-direction="down"
                                        md-delay="0">{{ character.name }}</md-tooltip>
                        </span>
                </md-card-content>

            </md-card>

            <div bd-tracker></div>

        </div>

    </div>

    <md-button id="fab"
               class="md-fab" aria-label="Add Quote"
               ng-if="session.isAuthenticated()"
               ui-sref="quoteNew"
               >
        <md-tooltip md-direction="left">添加语录</md-tooltip>
        <md-icon class="zmdi zmdi-plus zmdi-hc-lg"></md-icon>
    </md-button>

</div>
